var y="/gox/static/index.746e9fd3.wasm";const a=()=>{const m=new Error("not implemented");return m.code="ENOSYS",m};{let m="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){m+=_.decode(s);const i=m.lastIndexOf(`
`);return i!=-1&&(console.log(m.substr(0,i)),m=m.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(a());return}const f=this.writeSync(n,s);u(null,f)},chmod(n,s,i){i(a())},chown(n,s,i,l){l(a())},close(n,s){s(a())},fchmod(n,s,i){i(a())},fchown(n,s,i,l){l(a())},fstat(n,s){s(a())},fsync(n,s){s(null)},ftruncate(n,s,i){i(a())},lchown(n,s,i,l){l(a())},link(n,s,i){i(a())},lstat(n,s){s(a())},mkdir(n,s,i){i(a())},open(n,s,i,l){l(a())},read(n,s,i,l,h,u){u(a())},readdir(n,s){s(a())},readlink(n,s){s(a())},rename(n,s,i){i(a())},rmdir(n,s){s(a())},stat(n,s){s(a())},symlink(n,s,i){i(a())},truncate(n,s,i){i(a())},unlink(n,s){s(a())},utimes(n,s,i,l){l(a())}}}const g=new TextEncoder("utf-8"),_=new TextDecoder("utf-8");class w{constructor(){this.argv=["js"],this.env={},this.exit=t=>{t!==0&&console.warn("exit code:",t)},this._exitPromise=new Promise(t=>{this._resolveExitPromise=t}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const n=(t,e)=>{this.mem.setUint32(t+0,e,!0),this.mem.setUint32(t+4,Math.floor(e/4294967296),!0)},s=t=>{const e=this.mem.getUint32(t+0,!0),r=this.mem.getInt32(t+4,!0);return e+r*4294967296},i=t=>{const e=this.mem.getFloat64(t,!0);if(e===0)return;if(!isNaN(e))return e;const r=this.mem.getUint32(t,!0);return this._values[r]},l=(t,e)=>{const r=2146959360;if(typeof e=="number"&&e!==0){if(isNaN(e)){this.mem.setUint32(t+4,r,!0),this.mem.setUint32(t,0,!0);return}this.mem.setFloat64(t,e,!0);return}if(e===void 0){this.mem.setFloat64(t,0,!0);return}let o=this._ids.get(e);o===void 0&&(o=this._idPool.pop(),o===void 0&&(o=this._values.length),this._values[o]=e,this._goRefCounts[o]=0,this._ids.set(e,o)),this._goRefCounts[o]++;let c=0;switch(typeof e){case"object":e!==null&&(c=1);break;case"string":c=2;break;case"symbol":c=3;break;case"function":c=4;break}this.mem.setUint32(t+4,r|c,!0),this.mem.setUint32(t,o,!0)},h=t=>{const e=s(t+0),r=s(t+8);return new Uint8Array(this._inst.exports.mem.buffer,e,r)},u=t=>{const e=s(t+0),r=s(t+8),o=new Array(r);for(let c=0;c<r;c++)o[c]=i(e+c*8);return o},f=t=>{const e=s(t+0),r=s(t+8);return _.decode(new DataView(this._inst.exports.mem.buffer,e,r))},d=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":t=>{t>>>=0;const e=this.mem.getInt32(t+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(e)},"runtime.wasmWrite":t=>{t>>>=0;const e=s(t+8),r=s(t+16),o=this.mem.getInt32(t+24,!0);fs.writeSync(e,new Uint8Array(this._inst.exports.mem.buffer,r,o))},"runtime.resetMemoryDataView":t=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{t>>>=0,n(t+8,(d+performance.now())*1e6)},"runtime.walltime":t=>{t>>>=0;const e=new Date().getTime();n(t+8,e/1e3),this.mem.setInt32(t+16,e%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":t=>{t>>>=0;const e=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(e,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(e);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},s(t+8)+1)),this.mem.setInt32(t+16,e,!0)},"runtime.clearTimeoutEvent":t=>{t>>>=0;const e=this.mem.getInt32(t+8,!0);clearTimeout(this._scheduledTimeouts.get(e)),this._scheduledTimeouts.delete(e)},"runtime.getRandomData":t=>{t>>>=0,crypto.getRandomValues(h(t+8))},"syscall/js.finalizeRef":t=>{t>>>=0;const e=this.mem.getUint32(t+8,!0);if(this._goRefCounts[e]--,this._goRefCounts[e]===0){const r=this._values[e];this._values[e]=null,this._ids.delete(r),this._idPool.push(e)}},"syscall/js.stringVal":t=>{t>>>=0,l(t+24,f(t+8))},"syscall/js.valueGet":t=>{t>>>=0;const e=Reflect.get(i(t+8),f(t+16));t=this._inst.exports.getsp()>>>0,l(t+32,e)},"syscall/js.valueSet":t=>{t>>>=0,Reflect.set(i(t+8),f(t+16),i(t+32))},"syscall/js.valueDelete":t=>{t>>>=0,Reflect.deleteProperty(i(t+8),f(t+16))},"syscall/js.valueIndex":t=>{t>>>=0,l(t+24,Reflect.get(i(t+8),s(t+16)))},"syscall/js.valueSetIndex":t=>{t>>>=0,Reflect.set(i(t+8),s(t+16),i(t+24))},"syscall/js.valueCall":t=>{t>>>=0;try{const e=i(t+8),r=Reflect.get(e,f(t+16)),o=u(t+32),c=Reflect.apply(r,e,o);t=this._inst.exports.getsp()>>>0,l(t+56,c),this.mem.setUint8(t+64,1)}catch(e){t=this._inst.exports.getsp()>>>0,l(t+56,e),this.mem.setUint8(t+64,0)}},"syscall/js.valueInvoke":t=>{t>>>=0;try{const e=i(t+8),r=u(t+16),o=Reflect.apply(e,void 0,r);t=this._inst.exports.getsp()>>>0,l(t+40,o),this.mem.setUint8(t+48,1)}catch(e){t=this._inst.exports.getsp()>>>0,l(t+40,e),this.mem.setUint8(t+48,0)}},"syscall/js.valueNew":t=>{t>>>=0;try{const e=i(t+8),r=u(t+16),o=Reflect.construct(e,r);t=this._inst.exports.getsp()>>>0,l(t+40,o),this.mem.setUint8(t+48,1)}catch(e){t=this._inst.exports.getsp()>>>0,l(t+40,e),this.mem.setUint8(t+48,0)}},"syscall/js.valueLength":t=>{t>>>=0,n(t+16,parseInt(i(t+8).length))},"syscall/js.valuePrepareString":t=>{t>>>=0;const e=g.encode(String(i(t+8)));l(t+16,e),n(t+24,e.length)},"syscall/js.valueLoadString":t=>{t>>>=0;const e=i(t+8);h(t+16).set(e)},"syscall/js.valueInstanceOf":t=>{t>>>=0,this.mem.setUint8(t+24,i(t+8)instanceof i(t+16)?1:0)},"syscall/js.copyBytesToGo":t=>{t>>>=0;const e=h(t+8),r=i(t+32);if(!(r instanceof Uint8Array||r instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const o=r.subarray(0,e.length);e.set(o),n(t+40,o.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{t>>>=0;const e=i(t+8),r=h(t+16);if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const o=r.subarray(0,e.length);e.set(o),n(t+40,o.length),this.mem.setUint8(t+48,1)},debug:t=>{console.log(t)}}}}async run(n){if(!(n instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=n,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let s=4096;const i=d=>{const t=s,e=g.encode(d+"\0");return new Uint8Array(this.mem.buffer,s,e.length).set(e),s+=e.length,s%8!=0&&(s+=8-s%8),t},l=this.argv.length,h=[];this.argv.forEach(d=>{h.push(i(d))}),h.push(0),Object.keys(this.env).sort().forEach(d=>{h.push(i(`${d}=${this.env[d]}`))}),h.push(0);const u=s;h.forEach(d=>{this.mem.setUint32(s,d,!0),this.mem.setUint32(s+4,0,!0),s+=8});const f=4096+8192;if(s>=f)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(l,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(n){const s=this;return function(){const i={id:n,this:this,args:arguments};return s._pendingEvent=i,s._resume(),i.result}}}const x=async()=>{const m=new w;return WebAssembly.instantiateStreaming(fetch(y),m.importObject).then(n=>m.run(n.instance))};export{x as main};
